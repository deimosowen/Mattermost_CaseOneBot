<% layout('layout') -%>
    <% block('title', 'Invite to channel' ); -%>

        <div class="container my-5">
            <div class="row">
                <div class="col-12 col-md-8 mx-auto">
                    <div class="card shadow">
                        <div class="card-body">
                            <h1 class="card-title text-center">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞–Ω–∞–ª—ã</h1>
                            <% if (activeChannels.length> 0) { %>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">–ö–∞–Ω–∞–ª</th>
                                            <th scope="col" class="text-end"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% activeChannels.forEach(channel=> { %>
                                            <tr>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <div class="flex-grow-1">
                                                            <%= channel.display_name %>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="text-end">
                                                    <form action="/invite" method="post">
                                                        <input type="hidden" name="user_id" value="<%= user_id %>">
                                                        <input type="hidden" name="channel_id"
                                                            value="<%= channel.id %>">
                                                        <button type="submit"
                                                            class="btn btn-outline-primary btn-sm">–í–æ–π—Ç–∏ –≤
                                                            –∫–∞–Ω–∞–ª</button>
                                                    </form>
                                                </td>
                                            </tr>
                                            <% }) %>
                                    </tbody>
                                </table>
                                <% } else { %>
                                    <div class="alert alert-info text-center" role="alert">
                                        –í—ã —É–∂–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω—ã –≤–æ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞–Ω–∞–ª—ã üòä
                                    </div>
                                    <% } %>

                                        <% if (inactiveChannels.length> 0) { %>
                                            <button class="btn btn-link" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#inactiveChannelsCollapse" aria-expanded="false"
                                                aria-controls="inactiveChannelsCollapse">
                                                –ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
                                            </button>

                                            <div class="collapse" id="inactiveChannelsCollapse">
                                                <p class="text-muted mt-3">–í —ç—Ç–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö –Ω–µ –±—ã–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ–ª—å—à–µ <%=
                                                        daysThreshold %>
                                                        –¥–Ω–µ–π.</p>
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">–ö–∞–Ω–∞–ª</th>
                                                            <th scope="col" class="text-end"></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <% inactiveChannels.forEach(channel=> { %>
                                                            <tr>
                                                                <td>
                                                                    <div class="d-flex align-items-center">
                                                                        <div class="flex-grow-1">
                                                                            <%= channel.display_name %>
                                                                        </div>
                                                                </td>
                                                                <td class="text-end">
                                                                    <form action="/invite" method="post">
                                                                        <input type="hidden" name="user_id"
                                                                            value="<%= user_id %>">
                                                                        <input type="hidden" name="channel_id"
                                                                            value="<%= channel.id %>">
                                                                        <button type="submit"
                                                                            class="btn btn-outline-primary btn-sm">–í–æ–π—Ç–∏
                                                                            –≤ –∫–∞–Ω–∞–ª</button>
                                                                    </form>
                                                                </td>
                                                            </tr>
                                                            <% }) %>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <% } %>
                        </div>
                    </div>
                </div>
            </div>
        </div>